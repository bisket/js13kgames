<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen"> /* 여기서부터 CSS */
      @media(){ /*디바이스 크기따라 캔버스 크기 조절*/
        canvas{
        }
      }
      *{
        border: 1px solid gray; /*캔버스 크기 파악*/
        margin: auto;
      }
      canvas{
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="Life" width="800" height="500"></canvas>
    <script type="text/javascript">
        let x=document.getElementById('Life');
        var ctx = x.getContext("2d");
        let circle1 = {
          k: 0,
          b: 2,
          drawing1 : function(){
          ctx.beginPath();
          ctx.fillStyle = 'black'
          ctx.arc(680, 20, 15, this.k*Math.PI, this.b * Math.PI);
          ctx.stroke();ctx.beginPath();
          }
        }
        let circle2 = {
          c: 0,
          d: 2,
          drawing2 : function(){
          ctx.beginPath();
          ctx.fillStyle = 'black'
          ctx.arc(725, 20, 15, this.c* Math.PI, this.d * Math.PI);
          ctx.stroke();ctx.beginPath();
          }
        }
        let circle3 = {
          e: 0,
          f: 2,
          drawing3 : function(){
          ctx.beginPath();
          ctx.fillStyle = 'black'
          ctx.arc(770, 20, 15,this.e* Math.PI, this.f * Math.PI);
          ctx.stroke();
        }
      }
        function TimeLimit1(){
          ctx.clearRect(0,0, x.width,x.height);
          circle3.e=circle3.e+0.1;
          circle3.f=circle3.f-0.1;
          circle1.drawing1();
          circle2.drawing2();
          circle3.drawing3();
          if(circle3.e>=1 && circle3.f<=1){
            clearInterval(start1);
            alert("10초 남음");
            ctx.clearRect(0,0, x.width,x.height);
            circle1.drawing1();
            circle2.drawing2();
            start2 = setInterval(TimeLimit2, 500);
          }
        }
        function TimeLimit2(){
          ctx.clearRect(0,0, x.width,x.height);
          circle2.c=circle2.c+0.1;
          circle2.d=circle2.d-0.1;
          circle1.drawing1();
          circle2.drawing2();
          if(circle2.c>=1 && circle2.d<=1){
            clearInterval(start2);
            alert("5초 남음");
            ctx.clearRect(0,0, x.width,x.height);
            circle1.drawing1();
            start3 = setInterval(TimeLimit3, 500);
            }
        }
        function TimeLimit3(){
          ctx.clearRect(0,0, x.width,x.height);
          circle1.k=circle1.k+0.1;
          circle1.b=circle1.b-0.1;
          circle1.drawing1();
          if(circle1.k>=1 && circle1.b<=1){
            clearInterval(start3);
            alert("Time Over");
            ctx.clearRect(0,0, x.width,x.height);
            self.close();
          }
        }
        let start1 = setInterval(TimeLimit1, 500);
    </script>
  </body>
</html>
